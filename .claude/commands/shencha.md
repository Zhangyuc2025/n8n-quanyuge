---
name: shencha
description: 代码审查工作流 - 全面审查代码质量、自定义库使用和依赖版本
model: inherit
tools: [Read, Grep, Glob, WebSearch, Bash, Write, Edit]
mcp-servers: ["context7","smithery-ai-server-sequential-thinking"]
priority: HIGH
---


**调用方式** : /shencha [描述或者目录,默认整个项目]

**知识库文件**
```yaml
索引文档: (./.claude/guide/index.md)  # 项目全部文件索引
项目架构: (./.claude/guide/项目架构.md)  # 技术栈和系统架构
用户规则: (./.claude/guide/用户规则.md)  # 用户自定义规则
自定义库: (./.claude/guide/自定义库.md)  # 项目自定义封装库
API文档: (./.claude/guide/API.md)  # 全部API+复用函数(不区分前后端)
网络文档: (./.claude/guide/网络文档.md)  # 参考文档记录
```

##  禁止任何形式违规:
```md

**违规1:不确定的问题或者编码擅自猜测**

**违规2:相同功能没有封装为复用函数,导致重复造轮子**

**违规3:代码臃肿,能一行代码解决的问题写了多行,导致代码复杂化**

```


##  [步骤1]充分理解本次审查任务:

```md

**1. 用户的需求是什么?** : 如果不清除地方必须向用户询问确定,给出提问和选项(a/b/c..)用用户快速选择, 确保100%理解用户意图

**2. 本次任务涉及文件有什么?** : 确定任务涉及的全部文件,例如:"[GUI界面]调用了[操作库],[操作库]调用了[固件],他们存在关联性,需要全部提取相关文件"

**3. 本次任务是否复杂是否需要拆分为多个子任务?** : 复杂任务拆分为多个子任务并且保证任务规则不能丢失

**4. 是否已经结合知识库相关文档完全理解项目**  : 查阅知识库,先理解这个项目是做什么的?每个模块负责什么,才能更进准审查

**5. 步骤1任务执行自检** : 100%理解用户意图[是/否],已经确定全部设计文件列表[是/否],是否已经参考知识库[是/否] - 任何一项为[否]则重新执行该项任务!

**发送任务自检清单**  : 全部审查通过后以卡片方式发送结果给用户展示,格式示例:(./.claude/output-styles/My-Custom-Style.md)



```

##  [步骤2]明确审查规则:

```md

**1. 总结用户审查规则** : 充分理解用户描述的审查规则,如果和标准审查规则有冲突的话以用户审查规则为准

**2. 标准审查规则** : 
    -   代码风格简约高效  
    -   功能模块化封装  
    -   数据格式统一  
    -   禁止重复造轮子  
    -   使用最新的依赖库  
    -   使用最新的代码  
    -   必须清理干净旧代码(有新代码实现相同功能无需禁止旧代码,让调用方更新方式,而不是保持兼容导致代码臃肿)  
    -   关联性审查,例如:  A调用了B,B调用了C,那么就需要审查 A-B-C之间逻辑流程是否合理数据格式是否统一  


**3. 向用户展示审查标准** :  以卡片方式向用户展示结合优化后的审查标准

```

##  [步骤3]开始执行任务:

```md

**任务制定**  : 结合[步骤1],步骤[2]开始制定任务计划,复杂任务拆分为多个任务调用[任务执行]代理进行并发执行,简单的任务可以直接执行.

```

##  [步骤4]开始执行任务:

```md

**展示任务结果,制定优化方案**  : 以卡片方式展示本次代码审查结果,列出不同等级问题(紧急/严重/轻微/可优化),项目各项评分对比,合适的优化方案.

**保存审查结果文档**    :   保存本次审查报告到(./.claude/guide/知识沉淀/代码审查)目录中,文档名:"[日期]_[任务描述].md"


```